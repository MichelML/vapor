.textbox {
  position: relative;

  max-width: $textbox-max-width;
  margin-top: $textbox-margin-top;

  font-size: 15px;

  .textbox-input {
    width: 100%;
    height: 34px;
    padding: 3px 0;

    color: transparent; // Make the input text color transparent when input is invalid (closed).
    font-size: 15px;

    background-color: transparent;
    box-shadow: none; // Remove firefox invalid input box shadow.
    border: 0;
    border-bottom: solid 1px $medium-grey;
    border-radius: 0;
    outline: 0;

    transition: 0.2s color ease;

    @include placeholder(transparent);

    &:focus, &:valid, &:disabled {
      color: $dark-grey;

      border-bottom-color: $medium-blue;

      @include placeholder();

      & + .textbox-label {
        top: -1 * $textbox-margin-top;

        color: $medium-blue;
        font-size: 13px;
        font-weight: bold;
      }
    }

    &:disabled {
      color: $medium-grey;

      border-bottom-color: $medium-grey;

      & + .textbox-label {
        color: $medium-grey;
      }
    }
  }

  .textbox-label {
    position: absolute;
    top: 10px;
    left: 0;

    transition: 0.2s all ease;

    pointer-events: none;
  }

  // Validation feedback
  &.validate .textbox-input {
    transition: 0.2s margin-bottom ease, 0.2s color ease;

    &.valid, &.invalid {
      margin-bottom: 20px;
    }

    &.valid {
      border-bottom-color: $green;

      & + .textbox-label:after {
        color: $green;
        content: attr(data-valid-message);

        opacity: 1;
      }
    }

    &.invalid {
      border-bottom-color: $red;

      & + .textbox-label:after {
        color: $red;
        content: attr(data-invalid-message);

        opacity: 1;
      }
    }

    & + .textbox-label {
      width: 100%;

      &:after {
        position: absolute;
        top: 30.1px; // The .1 is a fix for Chrome. Without it, Chrome makes the element bounce... Works in all other browsers.

        display: block;

        content: '';
        font-size: 13px;
        font-weight: bold;

        transition: 0.2s all ease;

        opacity: 0;
      }
    }

    &:valid, &:focus {
      & + .textbox-label:after {
        top: 55px;
      }
    }
  }
}
