<script>
    $(document).ready(function() {
        $('.coveo-slider-input').slider();
        $('.coveo-datepicker').DatePicker({
            mode: 'single',
            inline: true,
            date: new Date()
        });
        $('[title]').tooltip();

        var selectedTab;
        window.onload = function() {
            if (window.location.hash) {
                var selectedTabChild = $('.navigation-menu-section-item-link[href="' + window.location.pathname + window.location.hash + '"]');
                selectedTab = selectedTabChild.parent().addClass('state-active');
            } else {
                var selectedTabParend = $('.navigation-menu-section-item-link[href*="' + window.location.pathname + '"]');
                selectedTab = $(selectedTabParend[0]).parent().addClass('state-active');
            }
        };

        $('.navigation-menu-section-item').click(function() {
            if (selectedTab) {
                selectedTab.removeClass('state-active');
            }
            $(this).addClass('state-active');
            selectedTab = $(this);
        });

        // Simple script to handle opening/closing modals
        function modalHandler() {
            var backdrop = $('.modal-backdrop');

            $('.js-modal-trigger').each(function(i, modalTrigger) {
                var modal = $('#' + modalTrigger.getAttribute('data-modal'));
                var closeButton = modal.find('.js-modal-close');

                function removeModal() {
                    modal.removeClass('opened');
                    backdrop.addClass('closed');
                }

                $(modalTrigger).on('click', function() {
                    modal.addClass('opened');
                    backdrop.removeClass('closed');

                    backdrop.off('click', removeModal);
                    backdrop.on('click', removeModal);
                });

                closeButton.on('click', function(ev) {
                    ev.stopPropagation();
                    removeModal();
                });
            });
        }

        modalHandler();
    });
</script>
